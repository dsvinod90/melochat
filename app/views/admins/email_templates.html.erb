<%= render 'admin_submenu' %>
<div class='row justify-content-center'>
  <div class='content-font'>
    <h3 style='margin-top: 10px; text-align: center;'> Active Templates </h3>
    <table class="table table-hover text-center">
      <thead>
        <tr>
          <th scope='col'>SL.NO.</th>
          <th scope='col'>Name</th>
          <th scope='col'>Code</th>
          <th scope='col'>Template ID</th>
          <th scope='col'>Version</th>
          <th scope='col'>Active</th>
          <th scope='col'>Action</th>
        </tr>
      </thead>
      <tbody>
        <% @templates.active.each_with_index do |template, index| %>
          <tr>
            <td> <%= index+1 %> </td>
            <td> <%= template.name %> </td>
            <td> <%= template.code %> </td>
            <td> <%= template.template_id %> </td>
            <td> <%= template.version %> </td>
            <td class='text-success'> <%= template.active %> </td>
            <td>
              <%= button_to 'Deactivate', update_templates_admins_path, params: {template_id: template.id, active: false}, method: :put, class: 'btn btn-danger btn-sm', data: { confirm: 'Are you sure you want to deactivate this template?' }%>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <h3 style='margin-top: 30px; text-align: center;'> Inactive Templates </h3>
    <table class="table table-hover text-center">
      <thead>
        <tr>
          <th scope='col'>SL.NO.</th>
          <th scope='col'>Name</th>
          <th scope='col'>Code</th>
          <th scope='col'>Template ID</th>
          <th scope='col'>Version</th>
          <th scope='col'>Active</th>
          <th scope='col'>Action</th>
        </tr>
      </thead>
      <tbody>
        <% @templates.not_active.each_with_index do |template, index| %>
          <tr>
            <td> <%= index+1 %> </td>
            <td> <%= template.name %> </td>
            <td> <%= template.code %> </td>
            <td> <%= template.template_id %> </td>
            <td> <%= template.version %> </td>
            <td class='text-danger'> <%= template.active %> </td>
            <td>
              <%= button_to 'Activate', update_templates_admins_path, params: {template_id: template.id, active: true}, method: :put, class: 'btn btn-success btn-sm', data: { confirm: 'Are you sure you want to activate this template?' }%>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
